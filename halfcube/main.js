import*as s from"three";import{OrbitControls as I}from"three/examples/jsm/controls/OrbitControls.js";import*as u from"three";var O={yellow:16766208,white:16777215,blue:18093,green:39752,red:11997748,orange:16734208,black:2105376},d={};for(let[n,e]of[["white","yellow"],["blue","green"],["red","orange"],["black","black"]])d[n]=e,d[e]=n;var R=n=>{let e=[],t=[],r=[];function o(a,k){n&&(a=d[a]);let L=new u.Color(O[a]).toArray();for(let T=0;T<k;++T)r.push(L)}e.push([1,-1,0],[1,-1,1],[0,-1,1]),t.push([0,1,2]),o("orange",3),e.push([0,-1,1],[1,-1,1],[1,1,1],[-1,1,1],[-1,0,1]),t.push([3,4,5],[3,5,6],[3,6,7]),o("blue",5),e.push([-1,0,1],[-1,1,1],[-1,1,0]),t.push([8,9,10]),o("yellow",3),e.push([-1,1,0],[-1,1,1],[1,1,1],[1,1,-1],[0,1,-1]),t.push([11,12,13],[11,13,14],[11,14,15]),o("red",5),e.push([0,1,-1],[1,1,-1],[1,0,-1]),t.push([16,17,18]),o("green",3),e.push([1,0,-1],[1,1,-1],[1,1,1],[1,-1,1],[1,-1,0]),t.push([19,20,21],[19,21,22],[19,22,23]),o("white",5),e.push([1,-1,0],[0,-1,1],[-1,0,1],[-1,1,0],[0,1,-1],[1,0,-1]),t.push([24,25,26],[24,26,27],[24,27,28],[24,28,29]),o("black",6);let i=new u.BufferGeometry,h=e.flat();return n&&(h=h.map(a=>-a),t=t.map(a=>a.reverse())),i.setAttribute("position",new u.Float32BufferAttribute(h,3)),i.setAttribute("color",new u.Float32BufferAttribute(r.flat(),3)),i.setIndex(t.flat()),i};function S(n,e){return(Math.cos(n*Math.PI)-Math.cos(e*Math.PI))/2}var p=class{steps;step=0;stepProgress=0;lastTime=-1;running=!1;constructor(e){this.steps=e}isRunning(){return this.running}togglePause(){this.running=!this.running,this.running&&(this.lastTime=-1)}stepForward(e){if(this.lastTime===-1){this.lastTime=e;return}let t=this.steps[this.step],r=(e-this.lastTime)/t.t;this.lastTime=e;let o=this.stepProgress,i=this.stepProgress+r;i>=1?(i=1,this.stepProgress=0,++this.step,this.step>=this.steps.length&&(this.step=0)):this.stepProgress=i,t.c(S(o,i))}};var v=new s.Scene,f=new s.PerspectiveCamera(45,window.innerWidth/window.innerHeight,.1,1e3),c=new s.WebGLRenderer({antialias:!0});c.setSize(window.innerWidth,window.innerHeight);c.setClearColor(4210752);document.body.appendChild(c.domElement);var g=new s.Object3D;v.add(g);var w=new s.Object3D;g.add(w);function M(n){let e=R(n),t=new s.MeshBasicMaterial({vertexColors:!0}),r=new s.Mesh(e,t);w.add(r);let o=new s.EdgesGeometry(e),i=new s.LineSegments(o,new s.LineBasicMaterial({color:0}));return r.add(i),r}var H=M(!1),B=M(!0);f.position.set(-6,1.7,2);f.lookAt(H.position);var q=new I(f,c.domElement);q.addEventListener("change",m);var l={t:300,c:()=>{}};function y(n){g.rotateY(n*Math.PI*2)}function x(n){let e=new s.Vector3(1,0,-1).normalize(),t=Math.acos(1/Math.sqrt(3));return n&&(t=-t),r=>w.rotateOnWorldAxis(e,r*t)}var D=new s.Vector3(1,1,1).normalize();function F(n){H.rotateOnAxis(D,n*Math.PI/3)}function A(n){let e=new s.Vector3(1,1,1),t=1.2;return n&&(t=-t),r=>{B.translateOnAxis(e,r*t),H.translateOnAxis(e,-r*t/3)}}var b=new p([{t:3e3,c:y},l,{t:2e3,c:x(!0)},l,{t:3e3,c:y},l,{t:2e3,c:A(!0)},l,{t:1500,c:F},l,{t:2e3,c:A(!1)},l,{t:2e3,c:x(!1)},l]),E=!1;function m(){E||requestAnimationFrame(G),E=!0}function G(n){E=!1,b.isRunning()&&(b.stepForward(n),m()),c.render(v,f)}m();var P=document.querySelector("#play > i");function C(){b.togglePause(),P.classList.toggle("fa-play"),P.classList.toggle("fa-pause"),m()}document.getElementById("play").addEventListener("click",C);window.addEventListener("keydown",n=>{n.key===" "&&(n.preventDefault(),C())});
//# sourceMappingURL=main.js.map
